import{r as l,j as e,C as f,e as g,f as y,g as b,a as w,A as d,o as m,p as u,q as S,B as C,l as N,L as F,h as v}from"./index-BJDVYPr2.js";import{I as A}from"./input-C744jVRX.js";import{u as E,F as P,a as k,b as I,c as R,d as L,e as q,z as x,t as T}from"./form-Bn3qej8w.js";import{C as B}from"./circle-check-CkKaz49B.js";import"./label-DKKVfa8V.js";const D=x.object({email:x.string().email({message:"Please enter a valid email address"})});function Y(){const[s,i]=l.useState(!1),[h,j]=l.useState(!1),[o,r]=l.useState(null),a=E({resolver:T(D),defaultValues:{email:""}}),p=async t=>{i(!0),r(null);try{const c=await(await v("POST","/api/auth/forgot-password",t)).json();c.success?j(!0):r(c.message||"An error occurred. Please try again.")}catch(n){r("An unexpected error occurred. Please try again later."),console.error("Password reset request error:",n)}finally{i(!1)}};return e.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-50 px-4 py-12 sm:px-6 lg:px-8",children:e.jsxs(f,{className:"w-full max-w-md",children:[e.jsxs(g,{className:"space-y-1 text-center",children:[e.jsx(y,{className:"text-2xl font-bold tracking-tight",children:"Reset your password"}),e.jsx(b,{children:"Enter your email address and we'll send you a link to reset your password"})]}),e.jsx(w,{children:h?e.jsxs(d,{variant:"default",className:"bg-green-50 border-green-200",children:[e.jsx(B,{className:"h-4 w-4 text-green-600"}),e.jsx(m,{children:"Email sent"}),e.jsx(u,{children:"If your email address is registered with us, you will receive a password reset link shortly."})]}):e.jsx(P,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(p),className:"space-y-4",children:[e.jsx(k,{control:a.control,name:"email",render:({field:t})=>e.jsxs(I,{children:[e.jsx(R,{children:"Email"}),e.jsx(L,{children:e.jsx(A,{type:"email",placeholder:"Your email address",...t,disabled:s})}),e.jsx(q,{})]})}),o&&e.jsxs(d,{variant:"destructive",children:[e.jsx(S,{className:"h-4 w-4"}),e.jsx(m,{children:"Error"}),e.jsx(u,{children:o})]}),e.jsx(C,{type:"submit",className:"w-full",disabled:s,children:s?"Sending...":"Send Reset Link"})]})})}),e.jsx(N,{className:"flex justify-center",children:e.jsxs("div",{className:"text-sm text-gray-500",children:["Remember your password?"," ",e.jsx(F,{href:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Sign in"})]})})]})})}export{Y as default};
